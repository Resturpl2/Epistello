<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Syntaxis | Aplikasi Catatan Premium</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      color: #f8fafc;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 40px;
      padding-top: 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #0057FF 0%, #7CECF4 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 20px;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      color: #f8fafc;
      letter-spacing: -0.5px;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 18px;
      font-weight: 400;
    }

    .input-section {
      background: rgba(30, 41, 59, 0.7);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      margin-bottom: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    textarea {
      width: 100%;
      height: 120px;
      border-radius: 12px;
      padding: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      outline: none;
      margin-bottom: 16px;
      font-size: 16px;
      background: rgba(15, 23, 42, 0.8);
      color: #f8fafc;
      resize: none;
      transition: all 0.3s ease;
    }

    textarea:focus {
      border-color: #0057FF;
      box-shadow: 0 0 0 3px rgba(0, 87, 255, 0.2);
    }

    textarea::placeholder {
      color: #64748b;
    }

    .btn-primary {
      background: linear-gradient(135deg, #0057FF 0%, #3b82f6 100%);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(0, 87, 255, 0.3);
      width: 100%;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 87, 255, 0.4);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .notes-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
    }

    h2 {
      font-size: 24px;
      font-weight: 600;
      color: #f8fafc;
    }

    .notes-count {
      background: rgba(15, 23, 42, 0.8);
      color: #94a3b8;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .notes-list {
      display: grid;
      gap: 16px;
    }

    .note {
      background: rgba(30, 41, 59, 0.7);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      animation: slideIn 0.4s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .note:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
      border-color: rgba(0, 87, 255, 0.3);
    }

    .note::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: linear-gradient(to bottom, #0057FF, #7CECF4);
    }

    .note p {
      margin: 0;
      padding: 0;
      line-height: 1.6;
      color: #e2e8f0;
    }

    .note-date {
      font-size: 12px;
      color: #94a3b8;
      margin-top: 8px;
    }

    .actions {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .btn-secondary {
      background: rgba(15, 23, 42, 0.8);
      color: #cbd5e1;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
      justify-content: center;
    }

    .btn-secondary:hover {
      background: rgba(30, 41, 59, 0.9);
      color: #7CECF4;
      border-color: rgba(124, 236, 244, 0.3);
    }

    .btn-danger {
      background: rgba(127, 29, 29, 0.3);
      color: #fca5a5;
      border: 1px solid rgba(248, 113, 113, 0.2);
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
      justify-content: center;
    }

    .btn-danger:hover {
      background: rgba(127, 29, 29, 0.5);
      color: #f87171;
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #64748b;
      background: rgba(30, 41, 59, 0.5);
      border-radius: 16px;
      border: 1px dashed rgba(255, 255, 255, 0.1);
    }

    .empty-state svg {
      width: 80px;
      opacity: 0.5;
      margin-bottom: 20px;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background: rgba(30, 41, 59, 0.95);
      border-radius: 16px;
      padding: 30px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: scale(0.8) translateY(-20px);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      backdrop-filter: blur(10px);
    }

    .modal-overlay.active .modal {
      transform: scale(1) translateY(0);
      opacity: 1;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .modal-title {
      font-size: 20px;
      font-weight: 600;
      color: #f8fafc;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .modal-close {
      background: none;
      border: none;
      color: #94a3b8;
      font-size: 24px;
      cursor: pointer;
      transition: color 0.2s ease;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      color: #f87171;
      background: rgba(248, 113, 113, 0.1);
    }

    .modal-body {
      margin-bottom: 25px;
    }

    .modal-text {
      color: #cbd5e1;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .modal-textarea {
      width: 100%;
      height: 120px;
      border-radius: 12px;
      padding: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      outline: none;
      font-size: 16px;
      background: rgba(15, 23, 42, 0.8);
      color: #f8fafc;
      resize: none;
      transition: all 0.3s ease;
    }

    .modal-textarea:focus {
      border-color: #0057FF;
      box-shadow: 0 0 0 3px rgba(0, 87, 255, 0.2);
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .modal-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .modal-btn-cancel {
      background: rgba(255, 255, 255, 0.1);
      color: #cbd5e1;
    }

    .modal-btn-cancel:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .modal-btn-confirm {
      background: linear-gradient(135deg, #0057FF 0%, #3b82f6 100%);
      color: white;
    }

    .modal-btn-confirm:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 87, 255, 0.3);
    }

    .modal-btn-danger {
      background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
      color: white;
    }

    .modal-btn-danger:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
    }

    /* Delete Animation */
    .note.deleting {
      animation: slideOut 0.4s ease-in forwards;
    }

    @keyframes slideOut {
      from {
        opacity: 1;
        transform: translateX(0);
      }
      to {
        opacity: 0;
        transform: translateX(-100%);
      }
    }

    /* Footer Styles */
    footer {
      margin-top: 60px;
      text-align: center;
      color: #64748b;
      font-size: 14px;
      padding: 20px 0;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
    }

    .copyright {
      margin-bottom: 10px;
    }

    .support-section {
      background: rgba(30, 41, 59, 0.7);
      border-radius: 12px;
      padding: 20px;
      width: 100%;
      max-width: 400px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .support-title {
      color: #7CECF4;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .contact-links {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .contact-link {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 10px 15px;
      background: rgba(15, 23, 42, 0.8);
      border-radius: 8px;
      color: #cbd5e1;
      text-decoration: none;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .contact-link:hover {
      background: rgba(30, 41, 59, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .whatsapp-link:hover {
      color: #25D366;
      border-color: rgba(37, 211, 102, 0.3);
    }

    .instagram-link:hover {
      color: #E4405F;
      border-color: rgba(228, 64, 95, 0.3);
    }

    .contact-icon {
      width: 20px;
      height: 20px;
    }

    /* Responsive Design */
    @media (min-width: 640px) {
      .btn-primary {
        width: auto;
      }
      
      .actions {
        flex-wrap: nowrap;
      }
      
      .btn-secondary, .btn-danger {
        flex: none;
      }

      .contact-links {
        flex-direction: row;
        justify-content: center;
      }

      .contact-link {
        flex: 1;
        max-width: 180px;
      }

      .modal-actions {
        justify-content: flex-end;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 15px;
      }
      
      .container {
        padding: 0 5px;
      }
      
      h1 {
        font-size: 26px;
      }
      
      .subtitle {
        font-size: 16px;
      }
      
      .input-section {
        padding: 20px 16px;
      }
      
      .note {
        padding: 16px;
      }
      
      .notes-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .support-section {
        padding: 15px;
      }

      .modal {
        padding: 20px;
        margin: 20px;
      }

      .modal-actions {
        flex-direction: column;
      }
    }

    @media (max-width: 360px) {
      h1 {
        font-size: 22px;
      }
      
      .logo {
        flex-direction: column;
        gap: 8px;
      }
      
      .input-section {
        padding: 16px 12px;
      }
      
      textarea {
        padding: 12px;
        font-size: 14px;
      }

      .contact-links {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon">ðŸ¦Š</div>
        <h1>Syntaxis</h1>
      </div>
      <p class="subtitle">Aplikasi catatan premium untuk produktivitas Anda</p>
    </header>

    <section class="input-section">
      <textarea id="noteInput" placeholder="Tulis catatan Anda di sini..."></textarea>
      <button class="btn-primary" onclick="addNote()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4V20M4 12H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Tambah Catatan
      </button>
    </section>

    <section class="notes-section">
      <div class="notes-header">
        <h2>Catatan Saya</h2>
        <div class="notes-count" id="notesCount">0 catatan</div>
      </div>
      <div class="notes-list" id="notesList">
        <!-- Catatan akan ditampilkan di sini -->
      </div>
    </section>

    <footer>
      <div class="footer-content">
        <div class="copyright">
          Â© 2025 <b>Syntaxis</b> - Aplikasi Catatan Premium
        </div>
        
        <div class="support-section">
          <div class="support-title">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
              <path d="M9 9H9.01M15 9H15.01M8.8 13.8C9.83967 14.9095 11.1597 15.9095 12.2 15.9095C13.2403 15.9095 14.5603 14.9095 15.6 13.8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Laporkan Bug & Saran
          </div>
          <div class="contact-links">
            <a href="https://wa.me/6285604047346?text=Halo%20saya%20ingin%20melaporkan%20bug/memberi%20saran%20untuk%20Syntaxis" class="contact-link whatsapp-link" target="_blank">
              <svg class="contact-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893c0-3.189-1.248-6.189-3.515-8.444"/>
              </svg>
              WhatsApp
            </a>
            <a href="https://instagram.com/_rezxx1" class="contact-link instagram-link" target="_blank">
              <svg class="contact-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
              </svg>
              @Rezxx1
            </a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <!-- Modal untuk Edit -->
  <div class="modal-overlay" id="editModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Edit Catatan
        </h3>
        <button class="modal-close" onclick="closeEditModal()">&times;</button>
      </div>
      <div class="modal-body">
        <textarea class="modal-textarea" id="editTextarea" placeholder="Edit catatan Anda..."></textarea>
      </div>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-cancel" onclick="closeEditModal()">Batal</button>
        <button class="modal-btn modal-btn-confirm" onclick="saveEdit()">Simpan Perubahan</button>
      </div>
    </div>
  </div>

  <!-- Modal untuk Hapus -->
  <div class="modal-overlay" id="deleteModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Hapus Catatan
        </h3>
        <button class="modal-close" onclick="closeDeleteModal()">&times;</button>
      </div>
      <div class="modal-body">
        <p class="modal-text">Apakah Anda yakin ingin menghapus catatan ini? Tindakan ini tidak dapat dibatalkan.</p>
      </div>
      <div class="modal-actions">
        <button class="modal-btn modal-btn-cancel" onclick="closeDeleteModal()">Batal</button>
        <button class="modal-btn modal-btn-danger" onclick="confirmDelete()">Ya, Hapus</button>
      </div>
    </div>
  </div>

  <script>
    let currentEditingNote = null;
    let currentDeletingNote = null;

    // Ambil catatan dari localStorage saat halaman dibuka
    window.onload = function() {
      let savedNotes = JSON.parse(localStorage.getItem("notes")) || [];
      savedNotes.forEach(note => createNoteElement(note.text, note.date));
      updateNotesCount();
    };

    function addNote() {
      let input = document.getElementById("noteInput").value;
      if (input.trim() === "") {
        alert("Catatan tidak boleh kosong!");
        return;
      }

      const date = new Date().toLocaleString('id-ID', {
        day: 'numeric',
        month: 'short',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });

      createNoteElement(input, date);
      saveNotes();

      document.getElementById("noteInput").value = "";
      updateNotesCount();
    }

    function createNoteElement(text, date) {
      let noteDiv = document.createElement("div");
      noteDiv.classList.add("note");

      let noteText = document.createElement("p");
      noteText.innerText = text;

      let noteDate = document.createElement("div");
      noteDate.classList.add("note-date");
      noteDate.innerText = date;

      let actionsDiv = document.createElement("div");
      actionsDiv.classList.add("actions");

      let editBtn = document.createElement("button");
      editBtn.classList.add("btn-secondary");
      editBtn.innerHTML = `
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Edit
      `;
      editBtn.onclick = function () {
        openEditModal(noteDiv, noteText);
      };

      let deleteBtn = document.createElement("button");
      deleteBtn.classList.add("btn-danger");
      deleteBtn.innerHTML = `
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Hapus
      `;
      deleteBtn.onclick = function () {
        openDeleteModal(noteDiv);
      };

      actionsDiv.appendChild(editBtn);
      actionsDiv.appendChild(deleteBtn);

      noteDiv.appendChild(noteText);
      noteDiv.appendChild(noteDate);
      noteDiv.appendChild(actionsDiv);

      document.getElementById("notesList").appendChild(noteDiv);
    }

    // Modal Functions
    function openEditModal(noteElement, textElement) {
      currentEditingNote = { element: noteElement, textElement: textElement };
      document.getElementById('editTextarea').value = textElement.innerText;
      document.getElementById('editModal').classList.add('active');
      
      // Focus pada textarea setelah modal terbuka
      setTimeout(() => {
        document.getElementById('editTextarea').focus();
      }, 300);
    }

    function closeEditModal() {
      document.getElementById('editModal').classList.remove('active');
      currentEditingNote = null;
    }

    function saveEdit() {
      if (currentEditingNote) {
        const newText = document.getElementById('editTextarea').value.trim();
        if (newText !== "") {
          currentEditingNote.textElement.innerText = newText;
          saveNotes();
          closeEditModal();
          
          // Add success animation
          currentEditingNote.element.style.animation = 'none';
          setTimeout(() => {
            currentEditingNote.element.style.animation = 'pulse 0.6s ease';
          }, 10);
        } else {
          alert("Catatan tidak boleh kosong!");
        }
      }
    }

    function openDeleteModal(noteElement) {
      currentDeletingNote = noteElement;
      document.getElementById('deleteModal').classList.add('active');
    }

    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.remove('active');
      currentDeletingNote = null;
    }

    function confirmDelete() {
      if (currentDeletingNote) {
        // Add delete animation
        currentDeletingNote.classList.add('deleting');
        
        setTimeout(() => {
          currentDeletingNote.remove();
          saveNotes();
          updateNotesCount();
          closeDeleteModal();
        }, 400);
      }
    }

    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('modal-overlay')) {
        closeEditModal();
        closeDeleteModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeEditModal();
        closeDeleteModal();
      }
    });

    // Simpan semua catatan ke localStorage
    function saveNotes() {
      let notes = [];
      document.querySelectorAll(".note").forEach(note => {
        const text = note.querySelector("p").innerText;
        const date = note.querySelector(".note-date").innerText;
        notes.push({text, date});
      });
      localStorage.setItem("notes", JSON.stringify(notes));
    }

    function updateNotesCount() {
      const count = document.querySelectorAll(".note").length;
      const notesCount = document.getElementById("notesCount");
      notesCount.textContent = `${count} catatan`;
      
      // Tampilkan pesan jika tidak ada catatan
      const notesList = document.getElementById("notesList");
      if (count === 0) {
        notesList.innerHTML = `
          <div class="empty-state">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 14V16M12 14V16M16 14V16M3 10H21V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V10Z" stroke="#64748b" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M3 10V6C3 5.46957 3.21071 4.96086 3.58579 4.58579C3.96086 4.21071 4.46957 4 5 4H19C19.5304 4 20.0391 4.21071 20.4142 4.58579C20.7893 4.96086 21 5.46957 21 6V10" stroke="#64748b" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M7 2V4" stroke="#64748b" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 2V4" stroke="#64748b" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h3>Belum ada catatan</h3>
            <p>Mulai dengan menambahkan catatan pertama Anda</p>
          </div>
        `;
      }
    }

    // Add pulse animation for edit success
    const style = document.createElement('style');
    style.textContent = `
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.02); }
        100% { transform: scale(1); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
